# Staging Environment Configuration
# Testing environment that mirrors production settings but with relaxed security
# Copy this file to .env.staging and fill in your staging values

###############################################################################
# CORE APPLICATION SETTINGS
###############################################################################

# Environment
ENVIRONMENT=staging

# Debug Mode - Can be true for troubleshooting
DEBUG=true

# Secret Key - Use different key from production
SECRET_KEY=staging_secret_key_replace_me

# JWT Token Settings
ACCESS_TOKEN_EXPIRE_MINUTES=30

###############################################################################
# DATABASE CONFIGURATION
###############################################################################

# PostgreSQL Connection (use separate staging database)
DATABASE_URL=postgresql://staging_user:staging_password@localhost:5432/craigslist_leads_staging

# Connection Pool Settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=5

###############################################################################
# REDIS CONFIGURATION
###############################################################################

# Redis Connection (can use different DB number)
REDIS_URL=redis://localhost:6379
REDIS_DB=1  # Different from production

###############################################################################
# API CONFIGURATION
###############################################################################

# API Settings
API_V1_STR=/api/v1
PROJECT_NAME=Craigslist Lead Generation (Staging)
VERSION=2.0.0-staging

# CORS Configuration - More permissive for testing
ALLOWED_HOSTS=http://localhost:3000,http://localhost:5173,http://localhost:5174,https://staging.yourdomain.com

###############################################################################
# RATE LIMITING & SECURITY
###############################################################################

# Rate Limiting - More permissive for testing
RATE_LIMIT_PER_MINUTE=120

# Security Settings
ENCRYPT_CREDENTIALS=true
CREDENTIAL_ENCRYPTION_KEY=staging_encryption_key
SESSION_TIMEOUT_MINUTES=120
MAX_LOGIN_ATTEMPTS=10

###############################################################################
# LOGGING
###############################################################################

# Log Level - More verbose for troubleshooting
LOG_LEVEL=DEBUG

# Log Format
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

###############################################################################
# AI SERVICES
###############################################################################

# AI Provider (use cheaper models for staging)
AI_PROVIDER=openai

# OpenAI Configuration - Use staging/test API keys
OPENAI_API_KEY=sk-test-...

# Anthropic Configuration
ANTHROPIC_API_KEY=

# OpenRouter Configuration
OPENROUTER_API_KEY=
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# AI Model Selection - Use cheaper models for staging
AI_MODEL_DEFAULT=openai/gpt-3.5-turbo
AI_MODEL_EMBEDDINGS=openai/text-embedding-ada-002

# AI Request Settings
AI_MAX_TOKENS=1000  # Lower for cost savings
AI_TEMPERATURE=0.7
AI_TIMEOUT_SECONDS=30

###############################################################################
# EMAIL CONFIGURATION
###############################################################################

# Email Provider - Use test mode or sandbox
EMAIL_PROVIDER=smtp

# SMTP Configuration - Can use Mailtrap or similar for testing
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=2525
SMTP_USERNAME=your_mailtrap_username
SMTP_PASSWORD=your_mailtrap_password
SMTP_USE_TLS=true

# Email Sender Details
EMAIL_FROM=staging@yourdomain.com
EMAIL_FROM_NAME=Staging Environment
EMAIL_REPLY_TO=staging@yourdomain.com

###############################################################################
# SCRAPING CONFIGURATION
###############################################################################

# Scraping Settings - More conservative for testing
SCRAPER_DELAY_MIN=2.0
SCRAPER_DELAY_MAX=4.0
SCRAPER_CONCURRENT_LIMIT=3
SCRAPER_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36

# CAPTCHA & Email Extraction - Disable to save costs
TWOCAPTCHA_API_KEY=
ENABLE_EMAIL_EXTRACTION=false

###############################################################################
# USER PROFILE
###############################################################################

# Test User Profile
USER_NAME=Test User
USER_EMAIL=test@yourdomain.com
USER_PHONE=+1-555-TEST

USER_PROFESSION=Software Tester
USER_YEARS_EXPERIENCE=5
USER_SKILLS=Testing, QA, Automation

###############################################################################
# LINKEDIN INTEGRATION
###############################################################################

# LinkedIn - Use test credentials
LINKEDIN_ENABLED=true
LINKEDIN_SERVICE=piloterr
LINKEDIN_API_KEY=

LINKEDIN_CLIENT_ID=
LINKEDIN_CLIENT_SECRET=
LINKEDIN_REDIRECT_URI=http://localhost:8000/api/v1/linkedin/oauth/callback

# LinkedIn Settings - Lower limits for staging
LINKEDIN_MAX_RESULTS_PER_SEARCH=50
LINKEDIN_DAILY_MESSAGE_LIMIT=20

###############################################################################
# GOOGLE MAPS INTEGRATION
###############################################################################

# Google Maps - Lower limits for staging
GOOGLE_MAPS_ENABLED=true
GOOGLE_MAPS_MAX_RESULTS=50
GOOGLE_MAPS_SCRAPE_TIMEOUT=300

###############################################################################
# JOB BOARD SCRAPERS
###############################################################################

# Job Boards - Lower limits
INDEED_ENABLED=true
MONSTER_ENABLED=false  # Disable some to save time
ZIPRECRUITER_ENABLED=false

JOB_MAX_RESULTS_PER_SOURCE=25

###############################################################################
# EMAIL FINDER SERVICES
###############################################################################

# Hunter.io - Use free tier
HUNTER_IO_ENABLED=false  # Disable to save quota
HUNTER_IO_API_KEY=
HUNTER_MONTHLY_QUOTA=25

ROCKETREACH_ENABLED=false

###############################################################################
# GMAIL INTEGRATION
###############################################################################

# Gmail - Disable in staging
GMAIL_ENABLED=false

###############################################################################
# CAMPAIGN MANAGEMENT
###############################################################################

# Email Tracking - Use staging domain
TRACKING_DOMAIN=http://localhost:8000
TRACKING_PIXEL_ENABLED=true
LINK_TRACKING_ENABLED=true

# Rate Limiting - Lower limits
MAX_EMAILS_PER_HOUR=50
MAX_EMAILS_PER_DAY=200

###############################################################################
# VIDEO CREATION SYSTEM
###############################################################################

# ElevenLabs - Disable to save costs
ELEVENLABS_ENABLED=false
ELEVENLABS_API_KEY=

# Video Storage - Local storage
VIDEO_STORAGE_PATH=./storage/videos
RECORDING_STORAGE_PATH=./storage/recordings
VOICEOVER_STORAGE_PATH=./storage/voiceovers
THUMBNAIL_STORAGE_PATH=./storage/thumbnails

# AWS S3 - Disable or use staging bucket
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=staging-video-bucket
AWS_S3_REGION=us-east-1

###############################################################################
# VERCEL DEPLOYMENT
###############################################################################

# Vercel - Use staging project
VERCEL_ENABLED=true
VERCEL_API_TOKEN=
VERCEL_TEAM_ID=

###############################################################################
# N8N WORKFLOW AUTOMATION
###############################################################################

# N8N - Use staging instance
N8N_API_URL=http://localhost:5678/api/v1
N8N_API_KEY=
N8N_WEBHOOK_SECRET=staging_webhook_secret

# Auto-Approval - More permissive for testing
AUTO_APPROVAL_ENABLED=true
AUTO_APPROVAL_CONFIDENCE_THRESHOLD=70
AUTO_APPROVAL_MAX_DAILY_LIMIT=1000

###############################################################################
# CELERY CONFIGURATION
###############################################################################

# Celery - Use same Redis with different DB
CELERY_BROKER_URL=redis://localhost:6379/3
CELERY_RESULT_BACKEND=redis://localhost:6379/4

# Celery Workers - Fewer workers
CELERY_WORKER_CONCURRENCY=2

###############################################################################
# NOTIFICATION SETTINGS
###############################################################################

# Slack - Use staging channel
SLACK_WEBHOOK_URL=
SLACK_ALERT_CHANNEL=#staging-alerts

# Disable other notifications in staging
DISCORD_WEBHOOK_URL=
TWILIO_ACCOUNT_SID=

###############################################################################
# SCHEDULER & AUTOMATION
###############################################################################

# Scheduler - More frequent checks for testing
SCHEDULER_CHECK_INTERVAL=30

# Auto-Responder
AUTO_RESPONDER_ENABLED=true
AUTO_RESPONDER_MIN_DELAY_MINUTES=1  # Faster for testing

# Rule Engine
RULE_ENGINE_ENABLED=true

###############################################################################
# DATA EXPORT & ANALYTICS
###############################################################################

# Export Settings
EXPORT_DIRECTORY=./exports
EXPORT_MAX_RECORDS=10000  # Lower limit
EXPORT_CLEANUP_DAYS=7  # Clean up more frequently

# Analytics Settings
ANALYTICS_RETENTION_DAYS=90  # Shorter retention
ANALYTICS_CACHE_TTL=1800  # 30 minutes

###############################################################################
# PERFORMANCE & OPTIMIZATION
###############################################################################

# Performance Settings - Lower for staging
LEAD_PROCESSING_BATCH_SIZE=25
BULK_OPERATION_BATCH_SIZE=50
MAX_CONCURRENT_REQUESTS=5

###############################################################################
# FEATURE FLAGS
###############################################################################

# Enable all features for testing
ENABLE_AB_TESTING=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_REAL_TIME_NOTIFICATIONS=true
ENABLE_AUTOMATED_RESPONSES=true
ENABLE_ADVANCED_FILTERING=true

###############################################################################
# MONITORING & ALERTING
###############################################################################

# Alerts - Use staging channels
ERROR_NOTIFICATION_EMAIL=staging-alerts@yourdomain.com
CRITICAL_ERROR_THRESHOLD=20  # Higher threshold

###############################################################################
# COMPLIANCE & SECURITY
###############################################################################

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=30

# Data Retention - Shorter for staging
LEAD_RETENTION_DAYS=90
LOG_RETENTION_DAYS=30

# GDPR - Enable for testing
GDPR_ENABLED=true
DATA_EXPORT_ENABLED=true
RIGHT_TO_DELETION_ENABLED=true

###############################################################################
# TESTING & DEBUGGING
###############################################################################

# Testing Mode - Enable for testing
TEST_MODE=true

# Debug Email Override - Send all emails to test address
DEBUG_EMAIL_OVERRIDE=staging-test@yourdomain.com

# Additional Debug Settings
ENABLE_SQL_LOGGING=false  # Enable to debug database queries
ENABLE_REQUEST_LOGGING=true  # Log all API requests
MOCK_EXTERNAL_APIS=false  # Set true to use mock responses
